.group-preview {
  position: relative;
  display: grid;
  grid-template-columns: subgrid;

  min-width: max-content;

  border-radius: 4px;
  margin-block-end: 28px;

  line-height: 24px;
  font-size: rem(18px);

  background-color: $clr3;

  @include title-count;

  @include for-mobile-only {
    grid-template-columns: 232px 1fr;
    min-width: max-content;
    
    .task-list {
      min-width: max-content;
      grid-column: 1 / -1;
      
      .task-preview {
        position: relative;
        display: grid;
        grid-template-columns: subgrid;
        
        .sticky-container {
          position: sticky;
          left: 0;
          z-index: 31;
          width: 232px;
          grid-column: 1;
          background-color: $clr3;
          box-shadow: 4px 0 6px -3px rgba(0, 0, 0, 0.1);
        }

        .task-col {
          grid-column: 2;
          min-width: max-content;
        }
      }
    }
  }

  &:has(.collapsed) {
    padding-block-end: 28px;
    margin-block-end: 0;
    background-color: $clr3;
  }

  .task-preview > * {
    display: flex;
    align-items: center;
  }
  
  .colored-border {
    position: sticky;
    left: 40px;
    height: calc(100% + 1px);
    width: 5px;
    // min-width: 6px;
  }

  .group-header-wrapper {
    display: grid;
    grid-template-columns: subgrid;
    position: sticky;
    top: 138px;
    background-color: $clr3;
    z-index: 40;

    @include for-mobile-only {
      grid-template-columns: 232px 1fr;
      min-width: max-content;
    }
  }

  .toggle-group-preview {
    position: sticky;
    left: 46px;
    display: flex;
    justify-content: center;
    align-items: center;

    padding: 0 6px;
    margin: 0 5px;
    background-color: unset;

    svg {
      height: 22px;
      width: 22px;
    }
  }

  .group-header {
    height: 40px;
    width: 100%;
    display: flex;
    align-items: center;

    @include header-inline-edit;

    @include for-mobile-only {
      .group-title-container {
        width: 232px;
      }
    }
  }
}

// .popper-container {
// 	z-index: 999 !important;
// }

// .group-preview {
// 	position: relative;
// 	display: grid;
// 	grid-template-columns: subgrid;

// 	min-width: max-content;

// 	border-radius: 4px;
// 	margin-block-end: 28px;

// 	line-height: 24px;
// 	font-size: em(18px);

// 	background-color: $clr3;

// 	.task-preview > * {
// 		display: flex;
// 		align-items: center;
// 	}
// 	.colored-border {
// 		height: calc(100% + 1px);
// 		width: 6px;
// 		min-width: 6px;
// 	}

// 	.group-header {
// 		position: sticky;
// 		top: 138px;
// 		z-index: 20;
// 		height: 40px;

// 		.toggle-group-preview {
// 			position: sticky;
// 			left: 6px;
// 			display: flex;
// 			justify-content: center;
// 			align-items: center;

// 			padding: 0 6px;
// 			margin: 0 5px;
// 			background-color: unset;

// 			svg {
// 				height: 22px;
// 				width: 22px;
// 			}
// 		}

// 		.group-title-container {
// 			display: flex;
// 			align-items: center;
// 			height: min-content;

// 			background-color: $clr3;

// 			h4 {
// 				position: sticky;
// 				left: 46px;

// 				&:hover {
// 					outline: 1px solid $input-hover-border-clr;
// 					border-radius: 4px;
// 					cursor: text;
// 				}
// 			}

// 			input {
// 				position: relative;
// 				all: unset;
// 				cursor: text;
// 				text-overflow: ellipsis;
// 				overflow: hidden;
// 				white-space: nowrap;
// 				cursor: text;

// 				&:focus {
// 					background-color: #ffff;
// 					outline: none;
// 					border-radius: 4px;
// 				}
// 			}

// 			&.edit {
// 				border: 1px solid $clr7;
// 				border-radius: 4px;
// 				input {
// 					padding-inline-start: 30px;
// 				}
// 			}

// 			.group-color-picker {
// 				cursor: pointer;
// 				position: absolute;
// 				left: 50px;
// 				width: 14px;
// 				height: 14px;
// 				border-radius: 25%;
// 			}

// 			.color-picker {
// 				position: absolute;
// 				width: rem(142px);
// 				background-color: #ffff;
// 				border: 1px $input-hover-border-clr solid;
// 				border-radius: 4px;
// 				display: flex;
// 				flex-wrap: wrap;
// 				justify-content: flex-start;
// 				z-index: 999 !important;

// 				.color {
// 					cursor: pointer;
// 					height: rem(20px);
// 					width: rem(20px);
// 					border-radius: 50%;
// 					margin: 3px;
// 				}
// 			}
// 		}
// 	}
// }
